// Test scanner functionality
import "token.cot"
import "scanner.cot"

fn main() i64 {
    var s: Scanner = scanner_new("fn main() i64 { return 42; }");
    
    // Scan first token - should be "fn"
    let t1: Token = scanner_next(&s);
    if t1.kind != TokenType.Fn {
        return 1;  // Expected: fn keyword
    }
    
    // Scan second token - should be "main"
    let t2: Token = scanner_next(&s);
    if t2.kind != TokenType.Ident {
        return 2;  // Expected: identifier
    }
    
    // Scan third token - should be "("
    let t3: Token = scanner_next(&s);
    if t3.kind != TokenType.LParen {
        return 3;  // Expected: (
    }
    
    // Scan fourth token - should be ")"
    let t4: Token = scanner_next(&s);
    if t4.kind != TokenType.RParen {
        return 4;  // Expected: )
    }
    
    // Scan fifth token - should be "i64"
    let t5: Token = scanner_next(&s);
    if t5.kind != TokenType.I64 {
        return 5;  // Expected: i64 type
    }
    
    return 0;  // Success!
}
