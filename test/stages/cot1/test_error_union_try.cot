// Test: Error Union Try Propagation
// Feature: try keyword for error propagation
//
// This test verifies:
// 1. try unwraps success value
// 2. try propagates error to caller
// 3. try works with function calls

const TestError = error {
    Fail,
    IoError,
};

fn innerFail() TestError!i64 {
    return error.Fail;
}

fn innerSuccess() TestError!i64 {
    return 42;
}

fn outerTry() TestError!i64 {
    // let x: i64 = try innerSuccess();  // x = 42
    // let y: i64 = try innerFail();     // propagates error.Fail
    // return x + y;                      // never reached
    return 0;
}

fn test_try_success() i64 {
    // let result: i64 = try innerSuccess();
    // Expected: result == 42
    return 1;
}

fn test_try_propagation() i64 {
    // outerTry() should return error.Fail
    // let result = outerTry() catch 99;
    // Expected: result == 99
    return 1;
}

fn main() i64 {
    // Placeholder until error unions are implemented
    return 0;
}
