extern fn malloc_i64(count: i64) *i64;
fn increment(p: *i64) i64 {
    var old: i64 = p.*;
    p.* = p.* + 1;
    return old;
}
test "function: call side effect" {
    var arr: *i64 = malloc_i64(1);
    arr.* = 5;
    var r1: i64 = increment(arr);
    var r2: i64 = increment(arr);
    @assert(r1 == 5 and r2 == 6 and arr.* == 7)
}
