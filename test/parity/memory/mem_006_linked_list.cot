struct Node { value: i64, next: *Node }
extern fn malloc_struct(size: i64) *Node;
fn sum_list(head: *Node) i64 {
    var sum: i64 = 0;
    var cur: *Node = head;
    while cur != null {
        sum = sum + cur.value;
        cur = cur.next;
    }
    return sum;
}
test "memory: linked list" {
    var n1: *Node = malloc_struct(16);
    var n2: *Node = malloc_struct(16);
    var n3: *Node = malloc_struct(16);
    n1.value = 1; n1.next = n2;
    n2.value = 2; n2.next = n3;
    n3.value = 3; n3.next = null;
    @assert(sum_list(n1) == 6)
}
